# ğŸ—ï¸ Technical Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ACCESSIBILITY TESTING SYSTEM                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚    Web      â”‚    â”‚   Workflow  â”‚    â”‚   Parallel  â”‚    â”‚   Analysis  â”‚  â”‚
â”‚  â”‚ Interface   â”‚â”€â”€â”€â–¶â”‚Orchestrator â”‚â”€â”€â”€â–¶â”‚  Analyzer   â”‚â”€â”€â”€â–¶â”‚   Service   â”‚  â”‚
â”‚  â”‚ (Express)   â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                   â”‚                   â”‚                   â”‚      â”‚
â”‚         â–¼                   â–¼                   â–¼                   â–¼      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Browser   â”‚    â”‚   Site      â”‚    â”‚   Tool      â”‚    â”‚   Cache     â”‚  â”‚
â”‚  â”‚  Manager    â”‚    â”‚  Crawler    â”‚    â”‚Orchestrator â”‚    â”‚   Layer     â”‚  â”‚
â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Detailed Component Architecture

### 1. Web Interface Layer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            WEB INTERFACE LAYER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  WebServer (Express.js + Socket.IO)                                        â”‚
â”‚  â”œâ”€â”€ RESTful API endpoints for accessibility testing                       â”‚
â”‚  â”œâ”€â”€ Real-time progress tracking via WebSocket                             â”‚
â”‚  â”œâ”€â”€ Static file serving (HTML, CSS, JS)                                   â”‚
â”‚  â”œâ”€â”€ WorkflowOrchestrator integration                                      â”‚
â”‚  â””â”€â”€ Error handling and user feedback                                      â”‚
â”‚                                                                             â”‚
â”‚  Public Files (Frontend)                                                    â”‚
â”‚  â”œâ”€â”€ index.html - Main web interface                                       â”‚
â”‚  â”œâ”€â”€ styles.css - UK brand-compliant styling                               â”‚
â”‚  â””â”€â”€ app.js - Frontend JavaScript with real-time updates                   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2. Orchestration Layer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ORCHESTRATION LAYER                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  WorkflowOrchestrator (Main Coordinator)                                   â”‚
â”‚  â”œâ”€â”€ SiteCrawler integration                                               â”‚
â”‚  â”œâ”€â”€ ParallelAnalyzer coordination                                         â”‚
â”‚  â”œâ”€â”€ Performance monitoring                                                â”‚
â”‚  â””â”€â”€ Result aggregation                                                    â”‚
â”‚                                                                             â”‚
â”‚  ParallelAnalyzer (Parallel Execution)                                     â”‚
â”‚  â”œâ”€â”€ Dynamic tool registration                                             â”‚
â”‚  â”œâ”€â”€ Concurrent page analysis                                              â”‚
â”‚  â”œâ”€â”€ Worker pool management                                                â”‚
â”‚  â””â”€â”€ Result merging                                                        â”‚
â”‚                                                                             â”‚
â”‚  AnalysisService (API Layer)                                               â”‚
â”‚  â”œâ”€â”€ Request handling                                                      â”‚
â”‚  â”œâ”€â”€ Progress tracking                                                     â”‚
â”‚  â”œâ”€â”€ Cache integration                                                     â”‚
â”‚  â””â”€â”€ Performance metrics                                                   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3. Service Layer (Singleton Pattern)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            SERVICE LAYER                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Error     â”‚    â”‚Configurationâ”‚    â”‚    File     â”‚    â”‚  Security   â”‚  â”‚
â”‚  â”‚  Handler    â”‚    â”‚  Service    â”‚    â”‚Operations   â”‚    â”‚Validation   â”‚  â”‚
â”‚  â”‚  Service    â”‚    â”‚             â”‚    â”‚  Service    â”‚    â”‚  Service    â”‚  â”‚
â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚    â”‚             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                   â”‚                   â”‚                   â”‚      â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                             â”‚                   â”‚                          â”‚
â”‚                             â–¼                   â–¼                          â”‚
â”‚                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚                    â”‚   Browser   â”‚    â”‚   Analysis  â”‚                      â”‚
â”‚                    â”‚  Manager    â”‚    â”‚   Cache     â”‚                      â”‚
â”‚                    â”‚             â”‚    â”‚             â”‚                      â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4. Analysis Layer
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                            ANALYSIS LAYER                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ToolOrchestrator (Multi-Tool Coordinator)                                 â”‚
â”‚  â”œâ”€â”€ AxeTestRunner integration                                             â”‚
â”‚  â”œâ”€â”€ Pa11yTestRunner integration                                           â”‚
â”‚  â”œâ”€â”€ Result combination                                                    â”‚
â”‚  â””â”€â”€ Violation processing                                                  â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚    Axe      â”‚                    â”‚   Pa11y     â”‚                        â”‚
â”‚  â”‚ TestRunner  â”‚                    â”‚ TestRunner  â”‚                        â”‚
â”‚  â”‚             â”‚                    â”‚             â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚         â”‚                                   â”‚                              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                   â”‚                                        â”‚
â”‚                                   â–¼                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚Violation    â”‚    â”‚   Page      â”‚    â”‚   PDF       â”‚                    â”‚
â”‚  â”‚Processor    â”‚â”€â”€â”€â–¶â”‚  Analyzer   â”‚â”€â”€â”€â–¶â”‚Generators   â”‚                    â”‚
â”‚  â”‚             â”‚    â”‚             â”‚    â”‚             â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Architecture

### 1. Initial Request Flow
```
Web Interface â†’ WebServer â†’ WorkflowOrchestrator â†’ Cleanup Phase â†’ SiteCrawler â†’ Page Discovery
     â”‚
     â–¼
ConfigurationService â† BrowserManager â† AnalysisCache
     â”‚
     â–¼
ParallelAnalyzer â† ToolOrchestrator â† [AxeTestRunner, Pa11yTestRunner]
     â”‚
     â–¼
ViolationProcessor â† PageAnalyzer â† PDF Generators
     â”‚
     â–¼
FileOperationsService â†’ Final Reports â†’ WebServer â†’ JSON Response â†’ Web Interface
```

### 1.1. Cleanup Phase Flow
```
Cleanup Phase (0-5% Progress)
â”œâ”€â”€ Move JSON files to accessibility-reports/history/
â”œâ”€â”€ Delete all existing PDF files
â”œâ”€â”€ Preserve history folder and contents
â””â”€â”€ Remove temporary directories
```

### 2. Parallel Processing Flow
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        PARALLEL PROCESSING FLOW                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Page Discovery (SiteCrawler)                                              â”‚
â”‚  â”œâ”€â”€ Crawl site structure                                                  â”‚
â”‚  â”œâ”€â”€ Cache page list                                                       â”‚
â”‚  â””â”€â”€ Return PageInfo[]                                                     â”‚
â”‚                                                                             â”‚
â”‚  Parallel Analysis (ParallelAnalyzer)                                      â”‚
â”‚  â”œâ”€â”€ Create worker pool                                                    â”‚
â”‚  â”œâ”€â”€ Distribute pages across workers                                       â”‚
â”‚  â”œâ”€â”€ Execute concurrent analysis                                           â”‚
â”‚  â””â”€â”€ Aggregate results                                                     â”‚
â”‚                                                                             â”‚
â”‚  Tool Execution (ToolOrchestrator)                                         â”‚
â”‚  â”œâ”€â”€ Axe-core analysis                                                     â”‚
â”‚  â”œâ”€â”€ Pa11y analysis                                                        â”‚
â”‚  â”œâ”€â”€ Result merging                                                        â”‚
â”‚  â””â”€â”€ Violation processing                                                  â”‚
â”‚                                                                             â”‚
â”‚  Report Generation                                                          â”‚
â”‚  â”œâ”€â”€ Violation aggregation                                                 â”‚
â”‚  â”œâ”€â”€ PDF generation                                                        â”‚
â”‚  â”œâ”€â”€ JSON reports                                                          â”‚
â”‚  â””â”€â”€ File output                                                           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Dependency Relationships

### Core Dependencies (Critical Path)
```
common.ts (Types)
    â”‚
    â”œâ”€â”€ ErrorHandlerService
    â”‚   â”œâ”€â”€ All Services
    â”‚   â”œâ”€â”€ All Utilities
    â”‚   â””â”€â”€ All Runners
    â”‚
    â””â”€â”€ Testing Framework
        â”œâ”€â”€ Jest Configuration
        â”œâ”€â”€ Test Utilities
        â”œâ”€â”€ Unit Tests
        â””â”€â”€ Integration Tests
```

### Testing Architecture
```
Jest Framework
    â”‚
    â”œâ”€â”€ Unit Tests
    â”‚   â”œâ”€â”€ Core Services (ErrorHandler, Configuration, Security, FileOps)
    â”‚   â”œâ”€â”€ Core Types (common.ts validation)
    â”‚   â”œâ”€â”€ Processors (ViolationProcessor)
    â”‚   â””â”€â”€ Runners (AxeTestRunner, Pa11yTestRunner)
    â”‚
    â”œâ”€â”€ Integration Tests
    â”‚   â”œâ”€â”€ Cross-service communication
    â”‚   â”œâ”€â”€ Singleton pattern verification
    â”‚   â””â”€â”€ End-to-end workflows
    â”‚
    â””â”€â”€ Test Utilities
        â”œâ”€â”€ Global test helpers
        â”œâ”€â”€ Mock data creation
        â””â”€â”€ Performance testing
```
    â”‚
    â”œâ”€â”€ ConfigurationService
    â”‚   â”œâ”€â”€ BrowserManager
    â”‚   â”œâ”€â”€ SiteCrawler
    â”‚   â”œâ”€â”€ TestRunners
    â”‚   â””â”€â”€ FileOperationsService
    â”‚
    â””â”€â”€ BrowserManager
        â”œâ”€â”€ ParallelAnalyzer
        â”œâ”€â”€ WorkflowOrchestrator
        â””â”€â”€ AnalysisService
```

### Service Dependencies
```
ErrorHandlerService (Base)
    â”‚
    â”œâ”€â”€ ConfigurationService
    â”‚   â””â”€â”€ FileOperationsService
    â”‚       â””â”€â”€ SecurityValidationService
    â”‚
    â”œâ”€â”€ BrowserManager
    â”‚   â””â”€â”€ PerformanceMonitor
    â”‚
    â””â”€â”€ All Other Services
```

### Analysis Dependencies
```
ParallelAnalyzer
    â”‚
    â”œâ”€â”€ ToolOrchestrator
    â”‚   â”œâ”€â”€ AxeTestRunner
    â”‚   â”œâ”€â”€ Pa11yTestRunner
    â”‚   â””â”€â”€ ViolationProcessor
    â”‚
    â””â”€â”€ PageAnalyzer
        â””â”€â”€ PDF Generators
```

## Error Handling Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ERROR HANDLING FLOW                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Error Occurs                                                              â”‚
â”‚       â”‚                                                                    â”‚
â”‚       â–¼                                                                    â”‚
â”‚  ErrorHandlerService.getInstance()                                         â”‚
â”‚  â”œâ”€â”€ Log error with context                                                â”‚
â”‚  â”œâ”€â”€ Determine error severity                                              â”‚
â”‚  â”œâ”€â”€ Apply retry logic if applicable                                       â”‚
â”‚  â””â”€â”€ Return ServiceResult<T>                                               â”‚
â”‚       â”‚                                                                    â”‚
â”‚       â–¼                                                                    â”‚
â”‚  ServiceResult<T>                                                          â”‚
â”‚  â”œâ”€â”€ success: boolean                                                      â”‚
â”‚  â”œâ”€â”€ data?: T                                                             â”‚
â”‚  â”œâ”€â”€ error?: Error                                                         â”‚
â”‚  â””â”€â”€ message?: string                                                      â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Configuration Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        CONFIGURATION FLOW                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  Environment Variables                                                     â”‚
â”‚       â”‚                                                                    â”‚
â”‚       â–¼                                                                    â”‚
â”‚  ConfigurationService.getInstance()                                        â”‚
â”‚  â”œâ”€â”€ Load environment variables                                            â”‚
â”‚  â”œâ”€â”€ Validate configuration                                                â”‚
â”‚  â”œâ”€â”€ Set defaults                                                          â”‚
â”‚  â””â”€â”€ Return configuration object                                           â”‚
â”‚       â”‚                                                                    â”‚
â”‚       â–¼                                                                    â”‚
â”‚  Service Configuration                                                     â”‚
â”‚  â”œâ”€â”€ Browser settings                                                      â”‚
â”‚  â”œâ”€â”€ Test parameters                                                       â”‚
â”‚  â”œâ”€â”€ Performance settings                                                  â”‚
â”‚  â””â”€â”€ Output settings                                                       â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Monitoring Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      PERFORMANCE MONITORING                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  PerformanceMonitor.getInstance()                                          â”‚
â”‚  â”œâ”€â”€ Memory usage tracking                                                 â”‚
â”‚  â”œâ”€â”€ Processing time metrics                                               â”‚
â”‚  â”œâ”€â”€ Cache performance                                                     â”‚
â”‚  â”œâ”€â”€ Worker utilization                                                     â”‚
â”‚  â””â”€â”€ System health metrics                                                 â”‚
â”‚                                                                             â”‚
â”‚  Metrics Collection                                                        â”‚
â”‚  â”œâ”€â”€ Real-time monitoring                                                  â”‚
â”‚  â”œâ”€â”€ Historical data                                                       â”‚
â”‚  â”œâ”€â”€ Performance alerts                                                    â”‚
â”‚  â””â”€â”€ Export capabilities                                                   â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Key Architectural Principles

### 1. Singleton Pattern
- All services use Singleton pattern for consistency
- Prevents multiple instances and resource conflicts
- Centralised state management

### 2. Dependency Injection
- Services are injected where needed
- Loose coupling between components
- Easy testing and maintenance

### 3. Error Handling
- Centralised error handling through ErrorHandlerService
- Consistent error response format (ServiceResult<T>)
- Proper logging and context preservation

### 4. Configuration Management
- Centralised configuration through ConfigurationService
- Environment variable support
- Validation and defaults

### 5. Performance Monitoring
- Real-time performance tracking
- Memory usage monitoring
- System health metrics

### 6. Modular Design
- Clear separation of concerns
- Reusable components
- Easy to extend and maintain

---

**Last Updated**: 18/12/2024 14:30 GMT
**Purpose**: Visual reference for understanding system architecture and dependencies 